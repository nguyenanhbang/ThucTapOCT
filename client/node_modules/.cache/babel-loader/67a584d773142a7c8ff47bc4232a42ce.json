{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\ducbang\\\\Desktop\\\\12345\\\\employee\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\ducbang\\\\Desktop\\\\12345\\\\employee\\\\client\\\\src\\\\app\\\\views\\\\Employee\\\\Employee.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport MaterialTable from 'material-table';\nimport { Grid, TextField, Button, IconButton, Icon } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Helmet } from 'react-helmet';\nimport { Breadcrumb, ConfirmationDialog } from 'egret';\nimport PersonAddIcon from '@material-ui/icons/PersonAdd';\nimport { withStyles } from '@material-ui/core/styles';\nimport { Tooltip } from '@material-ui/core';\nimport SearchIcon from '@material-ui/icons/Search';\nimport EmployeeEditorDialog from './EmployeeEditorDialog';\nimport { searchByDto, deleteEmployee } from './EmployeeService';\nimport { toast } from 'react-toastify';\nimport { useTranslation } from 'react-i18next';\nimport { Block } from '@material-ui/icons';\ntoast.configure({\n  autoClose: 1000,\n  draggable: false,\n  limit: 3\n});\nvar LightTooltip = withStyles(function (theme) {\n  return {\n    tooltip: {\n      backgroundColor: theme.palette.common.white,\n      color: 'rgba(0, 0, 0, 0.87)',\n      boxShadow: theme.shadows[1],\n      fontSize: 11,\n      position: 'absolute',\n      top: '-15px',\n      left: '-30px',\n      width: '80px'\n    }\n  };\n})(Tooltip);\nvar useStyles = makeStyles(function (theme) {\n  return {\n    box: {\n      display: 'flex',\n      margin: '5px 0',\n      alignItems: 'space-evenly',\n      padding: theme.spacing(1)\n    },\n    groupButton: {\n      marginLeft: 10,\n      marginTop: 20,\n      display: 'flex',\n      justifyContent: 'end'\n    },\n    search: {\n      width: '25%',\n      marginLeft: 'auto'\n    },\n    button1: {\n      marginLeft: 5\n    },\n    dialogContentText: {\n      marginBottom: 20\n    },\n    textField: {\n      margin: theme.spacing(1)\n    },\n    dialogTitle: {\n      marginBottom: 10\n    },\n    buttonEdit: {\n      '&:hover': {\n        backgroundColor: '#ff9e43c2 !important'\n      }\n    }\n  };\n}); //Employee Function\n\nfunction Employee() {\n  var _this = this;\n\n  var classes = useStyles();\n\n  var _useTranslation = useTranslation(),\n      t = _useTranslation.t;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      itemList = _useState2[0],\n      setItemList = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      open = _useState4[0],\n      setOpen = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      deleteButton = _useState6[0],\n      setDeleteButton = _useState6[1];\n\n  var _useState7 = useState(''),\n      _useState8 = _slicedToArray(_useState7, 2),\n      search = _useState8[0],\n      setSearch = _useState8[1];\n\n  var _useState9 = useState({}),\n      _useState10 = _slicedToArray(_useState9, 2),\n      oldUser = _useState10[0],\n      setOldUser = _useState10[1];\n\n  var columns = [{\n    title: 'Thao tác',\n    field: '',\n    render: function render(rowData) {\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(LightTooltip, {\n        title: t('general.deleteIcon'),\n        placement: \"right-end\",\n        enterDelay: 300,\n        leaveDelay: 200,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 6\n        }\n      }, /*#__PURE__*/React.createElement(IconButton, {\n        size: \"small\",\n        onClick: function onClick() {\n          handleOpenDelete(rowData);\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(Icon, {\n        fontSize: \"small\",\n        color: \"error\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 8\n        }\n      }, \"delete\"))));\n    }\n  }, {\n    title: 'Tên',\n    field: 'name'\n  }, {\n    title: 'Code',\n    field: 'code'\n  }, {\n    title: 'Tuổi',\n    field: 'age'\n  }, {\n    title: 'Email',\n    field: 'email'\n  }, {\n    title: 'Điện thoại',\n    field: 'phone'\n  }];\n  useEffect(function () {\n    searchByDto({}).then(function (res) {\n      console.log(res);\n      setItemList(res.data.data);\n    });\n  }, []);\n  useEffect(function () {\n    searchByDto({}).then(function (res) {\n      setItemList(res.data.data.filter(function (employee) {\n        return handleSearch(employee);\n      }));\n    });\n  }, [search]); //Render\n\n  var reRender = function reRender() {\n    searchByDto({}).then(function (res) {\n      setItemList(res.data.data);\n    });\n  };\n\n  var handleSearch = function handleSearch(employee) {\n    if (search === '') {\n      return employee;\n    } else {\n      if (search !== '') {\n        var keySearch = search.toLowerCase();\n\n        if (employee.name.toLowerCase().includes(keySearch) || employee.email.toLowerCase().includes(keySearch) || employee.code.toLowerCase().includes(keySearch)) {\n          return employee;\n        }\n      }\n    }\n  };\n\n  var handleOpen = function handleOpen() {\n    setOpen(true);\n    setOldUser({});\n  };\n\n  var handleClose = function handleClose() {\n    setOpen(false);\n    setOldUser({});\n  };\n\n  var handleClose__Delete = function handleClose__Delete() {\n    setDeleteButton(false);\n  };\n\n  var handleOpenDelete = function handleOpenDelete(rowData) {\n    setDeleteButton(true);\n    setOldUser(rowData);\n  };\n\n  var handleDeleteEmployee = function handleDeleteEmployee(data) {\n    setOldUser(data);\n    deleteEmployee(data).then(function () {\n      reRender();\n      handleClose__Delete();\n      toast.success('Xóa thành công');\n    });\n  };\n\n  var handleEdit = function handleEdit(rowData) {\n    setOpen(true);\n    setOldUser(rowData);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"m-sm-30\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    className: classes.box,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(Helmet, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"title\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 6\n    }\n  }, \"Qu\\u1EA3n l\\xFD nh\\xE2n vi\\xEAn\")), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Breadcrumb, {\n    routeSegments: [{\n      name: 'Quản lý'\n    }, {\n      name: 'Nhân viên'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 6\n    }\n  }))), /*#__PURE__*/React.createElement(Grid, {\n    className: classes.box,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    onClick: handleOpen,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 5\n    }\n  }, \"Th\\xEAm m\\u1EDBi\", /*#__PURE__*/React.createElement(PersonAddIcon, {\n    className: classes.button1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 6\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    className: classes.search,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    placeholder: \"Search\",\n    type: \"text\",\n    fullWidth: true,\n    value: search,\n    onChange: function onChange(e) {\n      e.preventDefault();\n      setSearch(e.target.value);\n    },\n    InputProps: {\n      startAdornment: /*#__PURE__*/React.createElement(SearchIcon, {\n        style: {\n          position: \"absolute\",\n          top: \"0\",\n          right: \"0\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 24\n        }\n      })\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 6\n    }\n  }))), /*#__PURE__*/React.createElement(Grid, {\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(MaterialTable, {\n    title: 'Danh sách nhân viên',\n    data: itemList,\n    columns: columns,\n    options: {\n      selection: false,\n      paging: true,\n      search: false,\n      exportButton: true,\n      rowStyle: function rowStyle(rowData, index) {\n        return {\n          backgroundColor: index % 2 === 1 ? '#EEE' : '#FFF'\n        };\n      },\n      headerStyle: {\n        backgroundColor: '#358600',\n        color: '#fff'\n      },\n      padding: 'dense',\n      toolbar: true\n    },\n    localization: {\n      body: {\n        emptyDataSourceMessage: 'No data'\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 5\n    }\n  })), open && /*#__PURE__*/React.createElement(EmployeeEditorDialog, {\n    open: open,\n    employeeData: oldUser,\n    handleClose: handleClose,\n    setOpen: setOpen,\n    reRender: reRender,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(Grid, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(ConfirmationDialog, {\n    open: deleteButton,\n    onConfirmDialogClose: handleClose__Delete,\n    onYesClick: function onYesClick() {\n      handleDeleteEmployee(oldUser);\n    },\n    text: \"B\\u1EA1n c\\xF3 ch\\u1EAFc mu\\u1ED1n x\\xF3a \\\"\".concat(oldUser.name, \"\\\"?\"),\n    title: \"X\\xE1c nh\\u1EADn\",\n    No: 'Không',\n    Yes: 'Đồng ý',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 5\n    }\n  })));\n}\n\nexport default Employee;","map":{"version":3,"sources":["C:/Users/ducbang/Desktop/12345/employee/client/src/app/views/Employee/Employee.jsx"],"names":["React","useState","useEffect","MaterialTable","Grid","TextField","Button","IconButton","Icon","makeStyles","Helmet","Breadcrumb","ConfirmationDialog","PersonAddIcon","withStyles","Tooltip","SearchIcon","EmployeeEditorDialog","searchByDto","deleteEmployee","toast","useTranslation","Block","configure","autoClose","draggable","limit","LightTooltip","theme","tooltip","backgroundColor","palette","common","white","color","boxShadow","shadows","fontSize","position","top","left","width","useStyles","box","display","margin","alignItems","padding","spacing","groupButton","marginLeft","marginTop","justifyContent","search","button1","dialogContentText","marginBottom","textField","dialogTitle","buttonEdit","Employee","classes","t","itemList","setItemList","open","setOpen","deleteButton","setDeleteButton","setSearch","oldUser","setOldUser","columns","title","field","render","rowData","handleOpenDelete","then","res","console","log","data","filter","employee","handleSearch","reRender","keySearch","toLowerCase","name","includes","email","code","handleOpen","handleClose","handleClose__Delete","handleDeleteEmployee","success","handleEdit","e","preventDefault","target","value","startAdornment","right","selection","paging","exportButton","rowStyle","index","headerStyle","toolbar","body","emptyDataSourceMessage"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport MaterialTable from 'material-table';\r\nimport { Grid, TextField, Button, IconButton, Icon } from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Helmet } from 'react-helmet';\r\nimport { Breadcrumb, ConfirmationDialog } from 'egret';\r\nimport PersonAddIcon from '@material-ui/icons/PersonAdd';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { Tooltip } from '@material-ui/core';\r\n\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport EmployeeEditorDialog from './EmployeeEditorDialog';\r\nimport { searchByDto, deleteEmployee } from './EmployeeService';\r\nimport { toast } from 'react-toastify';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { Block } from '@material-ui/icons';\r\n\r\ntoast.configure({\r\n\tautoClose: 1000,\r\n\tdraggable: false,\r\n\tlimit: 3,\r\n});\r\nconst LightTooltip = withStyles((theme) => ({\r\n\ttooltip: {\r\n\t\tbackgroundColor: theme.palette.common.white,\r\n\t\tcolor: 'rgba(0, 0, 0, 0.87)',\r\n\t\tboxShadow: theme.shadows[1],\r\n\t\tfontSize: 11,\r\n\t\tposition: 'absolute',\r\n\t\ttop: '-15px',\r\n\t\tleft: '-30px',\r\n\t\twidth: '80px',\r\n\t},\r\n}))(Tooltip);\r\nconst useStyles = makeStyles((theme) => ({\r\n\tbox: {\r\n\t\tdisplay: 'flex',\r\n\t\tmargin: '5px 0',\r\n\t\talignItems: 'space-evenly',\r\n\t\tpadding: theme.spacing(1),\r\n\t},\r\n\tgroupButton: {\r\n\t\tmarginLeft: 10,\r\n\t\tmarginTop: 20,\r\n\t\tdisplay: 'flex',\r\n\t\tjustifyContent: 'end',\r\n\t},\r\n\tsearch: {\r\n\t\twidth: '25%',\r\n\t\tmarginLeft: 'auto',\r\n\t},\r\n\tbutton1: {\r\n\t\tmarginLeft: 5,\r\n\t},\r\n\tdialogContentText: {\r\n\t\tmarginBottom: 20,\r\n\t},\r\n\ttextField: {\r\n\t\tmargin: theme.spacing(1),\r\n\t},\r\n\tdialogTitle: {\r\n\t\tmarginBottom: 10,\r\n\t},\r\n\tbuttonEdit: {\r\n\t\t'&:hover': { backgroundColor: '#ff9e43c2 !important' },\r\n\t},\r\n}));\r\n\r\n//Employee Function\r\nfunction Employee() {\r\n\tconst classes = useStyles();\r\n\tconst { t } = useTranslation();\r\n\tconst [itemList, setItemList] = useState([]);\r\n\tconst [open, setOpen] = useState(false);\r\n\tconst [deleteButton, setDeleteButton] = useState(false);\r\n\tconst [search, setSearch] = useState('');\r\n\tconst [oldUser, setOldUser] = useState({});\r\n\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\ttitle: 'Thao tác',\r\n\t\t\tfield: '',\r\n\t\t\trender: (rowData) => (\r\n\t\t\t\t<>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<LightTooltip\r\n\t\t\t\t\t\ttitle={t('general.deleteIcon')}\r\n\t\t\t\t\t\tplacement=\"right-end\"\r\n\t\t\t\t\t\tenterDelay={300}\r\n\t\t\t\t\t\tleaveDelay={200}>\r\n\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\thandleOpenDelete(rowData);\r\n\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t<Icon\r\n\t\t\t\t\t\t\t\tfontSize=\"small\"\r\n\t\t\t\t\t\t\t\tcolor=\"error\">\r\n\t\t\t\t\t\t\t\tdelete\r\n\t\t\t\t\t\t\t</Icon>\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t</LightTooltip>\r\n\t\t\t\t</>\r\n\t\t\t),\r\n\t\t},\r\n\t\t{ title: 'Tên', field: 'name' },\r\n\t\t{ title: 'Code', field: 'code' },\r\n\t\t{ title: 'Tuổi', field: 'age' },\r\n\t\t{ title: 'Email', field: 'email' },\r\n\t\t{ title: 'Điện thoại', field: 'phone' },\r\n\t];\r\n\r\n\tuseEffect(() => {\r\n\t\tsearchByDto({}).then((res) => {\r\n\t\t\tconsole.log(res)\r\n\t\t\tsetItemList(res.data.data);\r\n\t\t});\r\n\t}, []);\r\n\tuseEffect(() => {\r\n\t\tsearchByDto({}).then((res) => {\r\n\t\t\tsetItemList(res.data.data.filter((employee) => handleSearch(employee)));\r\n\t\t});\r\n\t}, [search]);\r\n\r\n\t//Render\r\n\tconst reRender = () => {\r\n\t\tsearchByDto({}).then((res) => {\r\n\t\t\tsetItemList(res.data.data);\r\n\t\t});\r\n\t};\r\n\r\n\tconst handleSearch = (employee) => {\r\n\t\tif (search === '') {\r\n\t\t\treturn employee;\r\n\t\t} else {\r\n\t\t\tif (search !== '') {\r\n\t\t\t\tlet keySearch = search.toLowerCase();\r\n\t\t\t\tif (\r\n\t\t\t\t\temployee.name.toLowerCase().includes(keySearch) ||\r\n\t\t\t\t\temployee.email.toLowerCase().includes(keySearch) ||\r\n\t\t\t\t\temployee.code.toLowerCase().includes(keySearch)\r\n\t\t\t\t) {\r\n\t\t\t\t\treturn employee;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleOpen = () => {\r\n\t\tsetOpen(true);\r\n\t\tsetOldUser({});\r\n\t};\r\n\tconst handleClose = () => {\r\n\t\tsetOpen(false);\r\n\t\tsetOldUser({});\r\n\t};\r\n\tconst handleClose__Delete = () => {\r\n\t\tsetDeleteButton(false);\r\n\t};\r\n\tconst handleOpenDelete = (rowData) => {\r\n\t\tsetDeleteButton(true);\r\n\t\tsetOldUser(rowData);\r\n\t};\r\n\tconst handleDeleteEmployee = (data) => {\r\n\t\tsetOldUser(data);\r\n\t\tdeleteEmployee(data).then(() => {\r\n\t\t\treRender();\r\n\t\t\thandleClose__Delete();\r\n\t\t\ttoast.success('Xóa thành công');\r\n\t\t});\r\n\t};\r\n\tconst handleEdit = (rowData) => {\r\n\t\tsetOpen(true);\r\n\t\tsetOldUser(rowData);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"m-sm-30\">\r\n\t\t\t<Grid className={classes.box}>\r\n\t\t\t\t<Helmet>\r\n\t\t\t\t\t<title>Quản lý nhân viên</title>\r\n\t\t\t\t</Helmet>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Breadcrumb\r\n\t\t\t\t\t\trouteSegments={[{ name: 'Quản lý' }, { name: 'Nhân viên' }]}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid className={classes.box}>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\tonClick={handleOpen}>\r\n\t\t\t\t\tThêm mới\r\n\t\t\t\t\t<PersonAddIcon className={classes.button1} />\r\n\t\t\t\t</Button>\r\n\t\t\t\t{/* Search Input */}\r\n\t\t\t\t<Grid className={classes.search}>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tplaceholder=\"Search\"\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tvalue={search}\r\n\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\tsetSearch(e.target.value);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tInputProps={{\r\n\t\t\t\t\t\t\tstartAdornment: <SearchIcon \r\n\t\t\t\t\t\t\tstyle={{ position: \"absolute\", top: \"0\", right: \"0\" }}\r\n\t\t\t\t\t\t\t/>,\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\r\n\t\t\t<Grid xs={12}>\r\n\t\t\t\t<MaterialTable\r\n\t\t\t\t\ttitle={'Danh sách nhân viên'}\r\n\t\t\t\t\tdata={itemList}\r\n\t\t\t\t\tcolumns={columns}\r\n\t\t\t\t\toptions={{\r\n\t\t\t\t\t\tselection: false,\r\n\t\t\t\t\t\tpaging: true,\r\n\t\t\t\t\t\tsearch: false,\r\n\t\t\t\t\t\texportButton: true,\r\n\r\n\t\t\t\t\t\trowStyle: (rowData, index) => ({\r\n\t\t\t\t\t\t\tbackgroundColor: index % 2 === 1 ? '#EEE' : '#FFF',\r\n\t\t\t\t\t\t}),\r\n\t\t\t\t\t\theaderStyle: {\r\n\t\t\t\t\t\t\tbackgroundColor: '#358600',\r\n\t\t\t\t\t\t\tcolor: '#fff',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tpadding: 'dense',\r\n\t\t\t\t\t\ttoolbar: true,\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tlocalization={{\r\n\t\t\t\t\t\tbody: {\r\n\t\t\t\t\t\t\temptyDataSourceMessage: 'No data',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t</Grid>\r\n\t\t\t{open && (\r\n\t\t\t\t<EmployeeEditorDialog\r\n\t\t\t\t\topen={open}\r\n\t\t\t\t\temployeeData={oldUser}\r\n\t\t\t\t\thandleClose={handleClose}\r\n\t\t\t\t\tsetOpen={setOpen}\r\n\t\t\t\t\treRender={reRender}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t\t<Grid>\r\n\t\t\t\t<ConfirmationDialog\r\n\t\t\t\t\topen={deleteButton}\r\n\t\t\t\t\tonConfirmDialogClose={handleClose__Delete}\r\n\t\t\t\t\tonYesClick={() => {\r\n\t\t\t\t\t\thandleDeleteEmployee(oldUser);\r\n\t\t\t\t\t}}\r\n\t\t\t\t\ttext={`Bạn có chắc muốn xóa \"${oldUser.name}\"?`}\r\n\t\t\t\t\ttitle=\"Xác nhận\"\r\n\t\t\t\t\tNo={'Không'}\r\n\t\t\t\t\tYes={'Đồng ý'}\r\n\t\t\t\t/>\r\n\t\t\t</Grid>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Employee;\r\n"]},"metadata":{},"sourceType":"module"}