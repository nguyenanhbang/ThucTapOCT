{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\ADMIN\\\\Downloads\\\\ThucTap\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\ADMIN\\\\Downloads\\\\ThucTap\\\\client\\\\src\\\\app\\\\views\\\\Employee\\\\Employee.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport MaterialTable from 'material-table';\nimport { Grid, TextField, ButtonGroup, Button } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Helmet } from 'react-helmet';\nimport { Breadcrumb, ConfirmationDialog } from 'egret';\nimport PersonAddIcon from '@material-ui/icons/PersonAdd';\nimport { withStyles } from '@material-ui/core/styles';\nimport { Tooltip } from '@material-ui/core';\nimport EditIcon from '@material-ui/icons/Edit';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport SearchIcon from '@material-ui/icons/Search';\nimport EmployeeEditorDialog from './EmployeeEditorDialog';\nimport { searchByDto, deleteEmployee } from './EmployeeService';\nimport { toast } from 'react-toastify';\nimport { useTranslation, withTranslation, Trans } from 'react-i18next';\ntoast.configure({\n  autoClose: 1000,\n  draggable: false,\n  limit: 3\n});\nvar LightTooltip = withStyles(function (theme) {\n  return {\n    tooltip: {\n      backgroundColor: theme.palette.common.white,\n      color: 'rgba(0, 0, 0, 0.87)',\n      boxShadow: theme.shadows[1],\n      fontSize: 11,\n      position: 'absolute',\n      top: '-15px',\n      left: '-30px',\n      width: '80px'\n    }\n  };\n})(Tooltip);\nvar useStyles = makeStyles(function (theme) {\n  return {\n    box: {\n      display: 'flex',\n      margin: '5px 0',\n      alignItems: 'space-evenly',\n      padding: theme.spacing(1)\n    },\n    groupButton: {\n      marginLeft: 10,\n      marginTop: 20,\n      display: 'flex',\n      justifyContent: 'end'\n    },\n    search: {\n      width: '25%',\n      marginLeft: 'auto'\n    },\n    button1: {\n      marginLeft: 5\n    },\n    dialogContentText: {\n      marginBottom: 20\n    },\n    textField: {\n      margin: theme.spacing(1)\n    },\n    dialogTitle: {\n      marginBottom: 10\n    },\n    buttonEdit: {\n      '&:hover': {\n        backgroundColor: '#ff9e43c2 !important'\n      }\n    }\n  };\n});\n\nfunction Employee() {\n  var _this = this;\n\n  var classes = useStyles();\n\n  var _useTranslation = useTranslation(),\n      t = _useTranslation.t,\n      i18n = _useTranslation.i18n;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      itemList = _useState2[0],\n      setItemList = _useState2[1];\n\n  var _useState3 = useState(true),\n      _useState4 = _slicedToArray(_useState3, 2),\n      state = _useState4[0],\n      setState = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      open = _useState6[0],\n      setOpen = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      deleteButton = _useState8[0],\n      setDeleteButton = _useState8[1];\n\n  var _useState9 = useState(false),\n      _useState10 = _slicedToArray(_useState9, 2),\n      submit = _useState10[0],\n      setSubmit = _useState10[1];\n\n  var _useState11 = useState(''),\n      _useState12 = _slicedToArray(_useState11, 2),\n      search = _useState12[0],\n      setSearch = _useState12[1];\n\n  var _useState13 = useState({}),\n      _useState14 = _slicedToArray(_useState13, 2),\n      oldUser = _useState14[0],\n      setOldUser = _useState14[1];\n\n  var columns = [{\n    title: 'Actions',\n    field: '',\n    render: function render(rowData) {\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ButtonGroup, {\n        variant: \"contained\",\n        size: \"small\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 6\n        }\n      }, /*#__PURE__*/React.createElement(LightTooltip, {\n        title: t('general.editIcon'),\n        placement: \"right-end\",\n        enterDelay: 300,\n        leaveDelay: 200,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        className: classes.buttonEdit,\n        style: {},\n        onClick: function onClick() {\n          handleEdit(rowData);\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 8\n        }\n      }, /*#__PURE__*/React.createElement(EditIcon, {\n        color: \"primary\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 9\n        }\n      }))), /*#__PURE__*/React.createElement(Button, {\n        className: classes.buttonEdit,\n        onClick: function onClick() {\n          handleOpenDelete(rowData);\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(DeleteIcon, {\n        color: \"error\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 8\n        }\n      }))));\n    }\n  }, {\n    title: 'Name',\n    field: 'name'\n  }, {\n    title: 'Code',\n    field: 'code'\n  }, {\n    title: 'Age',\n    field: 'age'\n  }, {\n    title: 'Email',\n    field: 'email'\n  }, {\n    title: 'Phone',\n    field: 'phone'\n  }];\n  useEffect(function () {\n    searchByDto({}).then(function (res) {\n      setItemList(res.data.data);\n    });\n  }, [state]);\n  useEffect(function () {\n    searchByDto({}).then(function (res) {\n      setItemList(res.data.data.filter(function (employee) {\n        return handleSearch(employee);\n      }));\n    });\n  }, [search]); //Render\n\n  var reRender = function reRender() {\n    searchByDto({}).then(function (res) {\n      setItemList(res.data.data);\n    });\n  };\n\n  var handleSearch = function handleSearch(employee) {\n    if (search === '') {\n      return employee;\n    } else {\n      if (search !== '') {\n        var keySearch = search.toLowerCase();\n\n        if (employee.name.toLowerCase().includes(keySearch) || employee.email.toLowerCase().includes(keySearch) || employee.code.toLowerCase().includes(keySearch)) {\n          return employee;\n        }\n      }\n    }\n  }; //edit\n\n\n  var handleOpen = function handleOpen() {\n    setOpen(true);\n    setOldUser({});\n  };\n\n  var handleClose = function handleClose() {\n    setOpen(false);\n    setOldUser({});\n  }; //delete\n\n\n  var handleClose__Delete = function handleClose__Delete() {\n    setDeleteButton(false);\n  };\n\n  var handleOpenDelete = function handleOpenDelete(rowData) {\n    setDeleteButton(true);\n    setOldUser(rowData);\n  };\n\n  var handleDeleteEmployee = function handleDeleteEmployee(data) {\n    setOldUser(data);\n    deleteEmployee(data).then(function () {\n      reRender();\n      handleClose__Delete();\n      toast.success('Xóa thành công');\n    });\n  }; // edit\n\n\n  var handleEdit = function handleEdit(rowData) {\n    setOpen(true);\n    setOldUser(rowData);\n  };\n\n  var handleSubmit = function handleSubmit(name, age, code, email, phone, province, district, commune) {};\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"m-sm-30\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(EmployeeEditorDialog, {\n    employeeData: oldUser,\n    setstate: setState,\n    state: state,\n    handleClose: handleClose,\n    submit: submit,\n    open: open,\n    setOpen: setOpen,\n    reRender: reRender,\n    setSubmit: setSubmit,\n    setHandleSubmit: function setHandleSubmit(name, age, code, email, phone, province, district, commune) {\n      return handleSubmit(name, age, code, email, phone, province, district, commune);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 4\n    }\n  }), /*#__PURE__*/React.createElement(Grid, {\n    className: classes.box,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(Helmet, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"title\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 6\n    }\n  }, \"Qu\\u1EA3n l\\xFD nh\\xE2n vi\\xEAn\")), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Breadcrumb, {\n    routeSegments: [{\n      name: 'Danh mục',\n      path: '/directory/apartment'\n    }, {\n      name: 'Nhân viên'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 6\n    }\n  }))), /*#__PURE__*/React.createElement(Grid, {\n    className: classes.box,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    onClick: handleOpen,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 5\n    }\n  }, \"Th\\xEAm m\\u1EDBi\", /*#__PURE__*/React.createElement(PersonAddIcon, {\n    className: classes.button1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 6\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    className: classes.search,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    label: \"Search\",\n    type: \"text\",\n    fullWidth: true,\n    value: search,\n    onChange: function onChange(e) {\n      e.preventDefault();\n      setSearch(e.target.value);\n    },\n    InputProps: {\n      startAdornment: /*#__PURE__*/React.createElement(SearchIcon, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 24\n        }\n      })\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 6\n    }\n  }))), /*#__PURE__*/React.createElement(Grid, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(ConfirmationDialog, {\n    open: deleteButton,\n    onConfirmDialogClose: handleClose__Delete,\n    onYesClick: function onYesClick() {\n      handleDeleteEmployee(oldUser);\n    },\n    text: \"B\\u1EA1n c\\xF3 ch\\u1EAFc mu\\u1ED1n x\\xF3a \\\"\".concat(oldUser.name, \"\\\"?\"),\n    No: 'Không',\n    Yes: 'Đồng ý',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 5\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(MaterialTable, {\n    title: 'Employees',\n    data: itemList,\n    columns: columns,\n    options: {\n      selection: false,\n      paging: true,\n      search: false,\n      exportButton: true,\n      rowStyle: function rowStyle(rowData, index) {\n        return {\n          backgroundColor: index % 2 === 1 ? '#EEE' : '#FFF'\n        };\n      },\n      headerStyle: {\n        backgroundColor: '#358600',\n        color: '#fff'\n      },\n      padding: 'dense',\n      toolbar: true\n    },\n    localization: {\n      body: {\n        emptyDataSourceMessage: 'No data'\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 299,\n      columnNumber: 5\n    }\n  })));\n}\n\nexport default Employee;","map":{"version":3,"sources":["C:/Users/ADMIN/Downloads/ThucTap/client/src/app/views/Employee/Employee.jsx"],"names":["React","useState","useEffect","MaterialTable","Grid","TextField","ButtonGroup","Button","makeStyles","Helmet","Breadcrumb","ConfirmationDialog","PersonAddIcon","withStyles","Tooltip","EditIcon","DeleteIcon","SearchIcon","EmployeeEditorDialog","searchByDto","deleteEmployee","toast","useTranslation","withTranslation","Trans","configure","autoClose","draggable","limit","LightTooltip","theme","tooltip","backgroundColor","palette","common","white","color","boxShadow","shadows","fontSize","position","top","left","width","useStyles","box","display","margin","alignItems","padding","spacing","groupButton","marginLeft","marginTop","justifyContent","search","button1","dialogContentText","marginBottom","textField","dialogTitle","buttonEdit","Employee","classes","t","i18n","itemList","setItemList","state","setState","open","setOpen","deleteButton","setDeleteButton","submit","setSubmit","setSearch","oldUser","setOldUser","columns","title","field","render","rowData","handleEdit","handleOpenDelete","then","res","data","filter","employee","handleSearch","reRender","keySearch","toLowerCase","name","includes","email","code","handleOpen","handleClose","handleClose__Delete","handleDeleteEmployee","success","handleSubmit","age","phone","province","district","commune","path","e","preventDefault","target","value","startAdornment","selection","paging","exportButton","rowStyle","index","headerStyle","toolbar","body","emptyDataSourceMessage"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport MaterialTable from 'material-table';\n\nimport { Grid, TextField, ButtonGroup, Button } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Helmet } from 'react-helmet';\nimport { Breadcrumb, ConfirmationDialog } from 'egret';\nimport PersonAddIcon from '@material-ui/icons/PersonAdd';\nimport { withStyles } from '@material-ui/core/styles';\nimport { Tooltip } from '@material-ui/core';\nimport EditIcon from '@material-ui/icons/Edit';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport SearchIcon from '@material-ui/icons/Search';\nimport EmployeeEditorDialog from './EmployeeEditorDialog';\nimport { searchByDto, deleteEmployee } from './EmployeeService';\nimport { toast } from 'react-toastify';\nimport { useTranslation, withTranslation, Trans } from 'react-i18next';\n\ntoast.configure({\n\tautoClose: 1000,\n\tdraggable: false,\n\tlimit: 3,\n});\n\nconst LightTooltip = withStyles((theme) => ({\n\ttooltip: {\n\t\tbackgroundColor: theme.palette.common.white,\n\t\tcolor: 'rgba(0, 0, 0, 0.87)',\n\t\tboxShadow: theme.shadows[1],\n\t\tfontSize: 11,\n\t\tposition: 'absolute',\n\t\ttop: '-15px',\n\t\tleft: '-30px',\n\t\twidth: '80px',\n\t},\n}))(Tooltip);\n\nconst useStyles = makeStyles((theme) => ({\n\tbox: {\n\t\tdisplay: 'flex',\n\t\tmargin: '5px 0',\n\t\talignItems: 'space-evenly',\n\t\tpadding: theme.spacing(1),\n\t},\n\n\tgroupButton: {\n\t\tmarginLeft: 10,\n\t\tmarginTop: 20,\n\t\tdisplay: 'flex',\n\t\tjustifyContent: 'end',\n\t},\n\tsearch: {\n\t\twidth: '25%',\n\t\tmarginLeft: 'auto',\n\t},\n\tbutton1: {\n\t\tmarginLeft: 5,\n\t},\n\tdialogContentText: {\n\t\tmarginBottom: 20,\n\t},\n\ttextField: {\n\t\tmargin: theme.spacing(1),\n\t},\n\tdialogTitle: {\n\t\tmarginBottom: 10,\n\t},\n\tbuttonEdit: {\n\t\t'&:hover': { backgroundColor: '#ff9e43c2 !important' },\n\t},\n}));\n\nfunction Employee() {\n\tconst classes = useStyles();\n\tconst { t, i18n } = useTranslation();\n\n\tconst [itemList, setItemList] = useState([]);\n\tconst [state, setState] = useState(true);\n\tconst [open, setOpen] = useState(false);\n\tconst [deleteButton, setDeleteButton] = useState(false);\n\tconst [submit, setSubmit] = useState(false);\n\tconst [search, setSearch] = useState('');\n\tconst [oldUser, setOldUser] = useState({});\n\n\tconst columns = [\n\t\t{\n\t\t\ttitle: 'Actions',\n\t\t\tfield: '',\n\t\t\trender: (rowData) => (\n\t\t\t\t<>\n\t\t\t\t\t<ButtonGroup\n\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\tsize=\"small\">\n\t\t\t\t\t\t<LightTooltip\n\t\t\t\t\t\t\ttitle={t('general.editIcon')}\n\t\t\t\t\t\t\tplacement=\"right-end\"\n\t\t\t\t\t\t\tenterDelay={300}\n\t\t\t\t\t\t\tleaveDelay={200}>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tclassName={classes.buttonEdit}\n\t\t\t\t\t\t\t\tstyle={{}}\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\thandleEdit(rowData);\n\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t<EditIcon color=\"primary\" />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</LightTooltip>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tclassName={classes.buttonEdit}\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\thandleOpenDelete(rowData);\n\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t<DeleteIcon color=\"error\" />\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</ButtonGroup>\n\t\t\t\t</>\n\t\t\t),\n\t\t},\n\t\t{ title: 'Name', field: 'name' },\n\t\t{ title: 'Code', field: 'code' },\n\t\t{ title: 'Age', field: 'age' },\n\t\t{ title: 'Email', field: 'email' },\n\t\t{ title: 'Phone', field: 'phone' },\n\t];\n\n\tuseEffect(() => {\n\t\tsearchByDto({}).then((res) => {\n\t\t\tsetItemList(res.data.data);\n\t\t});\n\t}, [state]);\n\tuseEffect(() => {\n\t\tsearchByDto({}).then((res) => {\n\t\t\tsetItemList(res.data.data.filter((employee) => handleSearch(employee)));\n\t\t});\n\t}, [search]);\n\n\t//Render\n\tconst reRender = () => {\n\t\tsearchByDto({}).then((res) => {\n\t\t\tsetItemList(res.data.data);\n\t\t});\n\t};\n\n\tconst handleSearch = (employee) => {\n\t\tif (search === '') {\n\t\t\treturn employee;\n\t\t} else {\n\t\t\tif (search !== '') {\n\t\t\t\tlet keySearch = search.toLowerCase();\n\t\t\t\tif (\n\t\t\t\t\temployee.name.toLowerCase().includes(keySearch) ||\n\t\t\t\t\temployee.email.toLowerCase().includes(keySearch) ||\n\t\t\t\t\temployee.code.toLowerCase().includes(keySearch)\n\t\t\t\t) {\n\t\t\t\t\treturn employee;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\t//edit\n\tconst handleOpen = () => {\n\t\tsetOpen(true);\n\t\tsetOldUser({});\n\t};\n\n\tconst handleClose = () => {\n\t\tsetOpen(false);\n\t\tsetOldUser({});\n\t};\n\n\t//delete\n\n\tconst handleClose__Delete = () => {\n\t\tsetDeleteButton(false);\n\t};\n\n\tconst handleOpenDelete = (rowData) => {\n\t\tsetDeleteButton(true);\n\t\tsetOldUser(rowData);\n\t};\n\n\tconst handleDeleteEmployee = (data) => {\n\t\tsetOldUser(data);\n\t\tdeleteEmployee(data).then(() => {\n\t\t\treRender();\n\t\t\thandleClose__Delete();\n\t\t\ttoast.success('Xóa thành công');\n\t\t});\n\t};\n\n\t// edit\n\tconst handleEdit = (rowData) => {\n\t\tsetOpen(true);\n\t\tsetOldUser(rowData);\n\t};\n\n\tconst handleSubmit = (\n\t\tname,\n\t\tage,\n\t\tcode,\n\t\temail,\n\t\tphone,\n\t\tprovince,\n\t\tdistrict,\n\t\tcommune\n\t) => {};\n\n\treturn (\n\t\t<div className=\"m-sm-30\">\n\t\t\t<EmployeeEditorDialog\n\t\t\t\temployeeData={oldUser}\n\t\t\t\tsetstate={setState}\n\t\t\t\tstate={state}\n\t\t\t\thandleClose={handleClose}\n\t\t\t\tsubmit={submit}\n\t\t\t\topen={open}\n\t\t\t\tsetOpen={setOpen}\n\t\t\t\treRender={reRender}\n\t\t\t\tsetSubmit={setSubmit}\n\t\t\t\tsetHandleSubmit={(\n\t\t\t\t\tname,\n\t\t\t\t\tage,\n\t\t\t\t\tcode,\n\t\t\t\t\temail,\n\t\t\t\t\tphone,\n\t\t\t\t\tprovince,\n\t\t\t\t\tdistrict,\n\t\t\t\t\tcommune\n\t\t\t\t) =>\n\t\t\t\t\thandleSubmit(\n\t\t\t\t\t\tname,\n\t\t\t\t\t\tage,\n\t\t\t\t\t\tcode,\n\t\t\t\t\t\temail,\n\t\t\t\t\t\tphone,\n\t\t\t\t\t\tprovince,\n\t\t\t\t\t\tdistrict,\n\t\t\t\t\t\tcommune\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t/>\n\n\t\t\t<Grid className={classes.box}>\n\t\t\t\t<Helmet>\n\t\t\t\t\t<title>Quản lý nhân viên</title>\n\t\t\t\t</Helmet>\n\t\t\t\t<div>\n\t\t\t\t\t<Breadcrumb\n\t\t\t\t\t\trouteSegments={[\n\t\t\t\t\t\t\t{ name: 'Danh mục', path: '/directory/apartment' },\n\t\t\t\t\t\t\t{ name: 'Nhân viên' },\n\t\t\t\t\t\t]}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</Grid>\n\n\t\t\t<Grid className={classes.box}>\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\tonClick={handleOpen}>\n\t\t\t\t\tThêm mới\n\t\t\t\t\t<PersonAddIcon className={classes.button1} />\n\t\t\t\t</Button>\n\n\t\t\t\t{/* Search Input */}\n\t\t\t\t<Grid className={classes.search}>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tlabel=\"Search\"\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tvalue={search}\n\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\tsetSearch(e.target.value);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\tstartAdornment: <SearchIcon />,\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\n\t\t\t<Grid>\n\t\t\t\t<ConfirmationDialog\n\t\t\t\t\topen={deleteButton}\n\t\t\t\t\tonConfirmDialogClose={handleClose__Delete}\n\t\t\t\t\tonYesClick={() => {\n\t\t\t\t\t\thandleDeleteEmployee(oldUser);\n\t\t\t\t\t}}\n\t\t\t\t\ttext={`Bạn có chắc muốn xóa \"${oldUser.name}\"?`}\n\t\t\t\t\tNo={'Không'}\n\t\t\t\t\tYes={'Đồng ý'}\n\t\t\t\t/>\n\t\t\t</Grid>\n\n\t\t\t<Grid xs={12}>\n\t\t\t\t<MaterialTable\n\t\t\t\t\ttitle={'Employees'}\n\t\t\t\t\tdata={itemList}\n\t\t\t\t\tcolumns={columns}\n\t\t\t\t\toptions={{\n\t\t\t\t\t\tselection: false,\n\t\t\t\t\t\tpaging: true,\n\t\t\t\t\t\tsearch: false,\n\t\t\t\t\t\texportButton: true,\n\n\t\t\t\t\t\trowStyle: (rowData, index) => ({\n\t\t\t\t\t\t\tbackgroundColor: index % 2 === 1 ? '#EEE' : '#FFF',\n\t\t\t\t\t\t}),\n\t\t\t\t\t\theaderStyle: {\n\t\t\t\t\t\t\tbackgroundColor: '#358600',\n\t\t\t\t\t\t\tcolor: '#fff',\n\t\t\t\t\t\t},\n\t\t\t\t\t\tpadding: 'dense',\n\t\t\t\t\t\ttoolbar: true,\n\t\t\t\t\t}}\n\t\t\t\t\tlocalization={{\n\t\t\t\t\t\tbody: {\n\t\t\t\t\t\t\temptyDataSourceMessage: 'No data',\n\t\t\t\t\t\t},\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t</Grid>\n\t\t</div>\n\t);\n}\n\nexport default Employee;\n"]},"metadata":{},"sourceType":"module"}