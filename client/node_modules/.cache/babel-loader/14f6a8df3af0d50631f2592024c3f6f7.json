{"ast":null,"code":"import axios from \"axios\";\nimport UserService from \"./UserService\";\nvar HttpMethods = {\n  GET: 'GET',\n  POST: 'POST',\n  DELETE: 'DELETE'\n};\n\nvar _axios = axios.create();\n\nvar configure = function configure() {\n  _axios.interceptors.request.use(function (config) {\n    // debugger;\n    console.log(config);\n\n    var cb = function cb() {\n      //config.header(\"Access-Control-Allow-Origin\", \"http://localhost:3000\");\n      //config.header(\"Access-Control-Allow-Headers\", \"Origin, X-Requested-With, Content-Type, Accept\");\n      //config.headers['Access-Control-Allow-Origin']= \"http://localhost:3000\";\n      //config.headers['Access-Control-Allow-Methods'] =\"Origin, X-Requested-With, Content-Type, Accept\";      \n      config.headers.Authorization = \"Bearer \".concat(UserService.getToken());\n      return Promise.resolve(config);\n    };\n\n    return UserService.updateToken(cb);\n  });\n};\n\nvar onError = function onError() {\n  _axios.interceptors.response.use(function (res) {\n    console.log(res);\n    return res;\n  }, function (err) {\n    console.log(err.response.status);\n\n    if (err.response.status === 404) {\n      throw new Error(\"\".concat(err.config.url, \" not found\"));\n    }\n\n    throw err; // console.log(err.response.status);\n    // return err;\n  });\n};\n\nvar getAxiosClient = function getAxiosClient() {\n  return _axios;\n};\n\nexport default {\n  HttpMethods: HttpMethods,\n  configure: configure,\n  getAxiosClient: getAxiosClient,\n  onError: onError\n};","map":{"version":3,"sources":["C:/Users/ducbang/Desktop/12345/employee/client/src/app/services/HttpService.js"],"names":["axios","UserService","HttpMethods","GET","POST","DELETE","_axios","create","configure","interceptors","request","use","config","console","log","cb","headers","Authorization","getToken","Promise","resolve","updateToken","onError","response","res","err","status","Error","url","getAxiosClient"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,WAAP,MAAwB,eAAxB;AAEA,IAAMC,WAAW,GAAG;AAClBC,EAAAA,GAAG,EAAE,KADa;AAElBC,EAAAA,IAAI,EAAE,MAFY;AAGlBC,EAAAA,MAAM,EAAE;AAHU,CAApB;;AAMA,IAAMC,MAAM,GAAGN,KAAK,CAACO,MAAN,EAAf;;AAEA,IAAMC,SAAS,GAAG,SAAZA,SAAY,GAAM;AACtBF,EAAAA,MAAM,CAACG,YAAP,CAAoBC,OAApB,CAA4BC,GAA5B,CAAgC,UAACC,MAAD,EAAY;AAC1C;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYF,MAAZ;;AACA,QAAMG,EAAE,GAAG,SAALA,EAAK,GAAM;AACf;AACA;AACA;AACA;AACAH,MAAAA,MAAM,CAACI,OAAP,CAAeC,aAAf,oBAAyChB,WAAW,CAACiB,QAAZ,EAAzC;AACA,aAAOC,OAAO,CAACC,OAAR,CAAgBR,MAAhB,CAAP;AACD,KAPD;;AAQA,WAAOX,WAAW,CAACoB,WAAZ,CAAwBN,EAAxB,CAAP;AACD,GAZD;AAaD,CAdD;;AAgBA,IAAMO,OAAO,GAAG,SAAVA,OAAU,GAAI;AAClBhB,EAAAA,MAAM,CAACG,YAAP,CAAoBc,QAApB,CAA6BZ,GAA7B,CACE,UAAAa,GAAG,EAAI;AACLX,IAAAA,OAAO,CAACC,GAAR,CAAYU,GAAZ;AACA,WAAOA,GAAP;AACD,GAJH,EAKE,UAAAC,GAAG,EAAI;AACLZ,IAAAA,OAAO,CAACC,GAAR,CAAYW,GAAG,CAACF,QAAJ,CAAaG,MAAzB;;AACA,QAAID,GAAG,CAACF,QAAJ,CAAaG,MAAb,KAAwB,GAA5B,EAAiC;AAC/B,YAAM,IAAIC,KAAJ,WAAaF,GAAG,CAACb,MAAJ,CAAWgB,GAAxB,gBAAN;AACD;;AACD,UAAMH,GAAN,CALK,CAML;AACA;AACD,GAbH;AAeD,CAhBD;;AAkBA,IAAMI,cAAc,GAAG,SAAjBA,cAAiB;AAAA,SAAMvB,MAAN;AAAA,CAAvB;;AAEA,eAAe;AACbJ,EAAAA,WAAW,EAAXA,WADa;AAEbM,EAAAA,SAAS,EAATA,SAFa;AAGbqB,EAAAA,cAAc,EAAdA,cAHa;AAIbP,EAAAA,OAAO,EAAPA;AAJa,CAAf","sourcesContent":["import axios from \"axios\";\r\nimport UserService from \"./UserService\";\r\n\r\nconst HttpMethods = {\r\n  GET: 'GET',\r\n  POST: 'POST',\r\n  DELETE: 'DELETE',\r\n};\r\n\r\nconst _axios = axios.create();\r\n\r\nconst configure = () => {\r\n  _axios.interceptors.request.use((config) => {\r\n    // debugger;\r\n    console.log(config);\r\n    const cb = () => {\r\n      //config.header(\"Access-Control-Allow-Origin\", \"http://localhost:3000\");\r\n      //config.header(\"Access-Control-Allow-Headers\", \"Origin, X-Requested-With, Content-Type, Accept\");\r\n      //config.headers['Access-Control-Allow-Origin']= \"http://localhost:3000\";\r\n      //config.headers['Access-Control-Allow-Methods'] =\"Origin, X-Requested-With, Content-Type, Accept\";      \r\n      config.headers.Authorization = `Bearer ${UserService.getToken()}`;\r\n      return Promise.resolve(config);\r\n    };\r\n    return UserService.updateToken(cb);\r\n  });\r\n};\r\n\r\nconst onError = ()=>{\r\n  _axios.interceptors.response.use(\r\n    res => {\r\n      console.log(res);\r\n      return res;\r\n    },\r\n    err => {\r\n      console.log(err.response.status);\r\n      if (err.response.status === 404) {\r\n        throw new Error(`${err.config.url} not found`);\r\n      }\r\n      throw err;\r\n      // console.log(err.response.status);\r\n      // return err;\r\n    }\r\n  );\r\n} \r\n\r\nconst getAxiosClient = () => _axios;\r\n\r\nexport default {\r\n  HttpMethods,\r\n  configure,\r\n  getAxiosClient,\r\n  onError,\r\n}\r\n"]},"metadata":{},"sourceType":"module"}