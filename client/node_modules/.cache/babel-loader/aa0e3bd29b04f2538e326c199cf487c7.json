{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\ADMIN\\\\Desktop\\\\employee-main\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\ADMIN\\\\Desktop\\\\employee-main\\\\client\\\\src\\\\app\\\\views\\\\Employee\\\\Employee.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport MaterialTable from 'material-table';\nimport { Grid, TextField, Button, IconButton, Icon } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Helmet } from 'react-helmet';\nimport { Breadcrumb, ConfirmationDialog } from 'egret';\nimport PersonAddIcon from '@material-ui/icons/PersonAdd';\nimport { withStyles } from '@material-ui/core/styles';\nimport { Tooltip } from '@material-ui/core';\nimport SearchIcon from '@material-ui/icons/Search';\nimport EmployeeEditorDialog from './EmployeeEditorDialog';\nimport { searchByDto, deleteEmployee } from './EmployeeService';\nimport { toast } from 'react-toastify';\nimport { useTranslation } from 'react-i18next';\ntoast.configure({\n  autoClose: 1000,\n  draggable: false,\n  limit: 3\n});\nvar LightTooltip = withStyles(function (theme) {\n  return {\n    tooltip: {\n      backgroundColor: theme.palette.common.white,\n      color: 'rgba(0, 0, 0, 0.87)',\n      boxShadow: theme.shadows[1],\n      fontSize: 11,\n      position: 'absolute',\n      top: '-15px',\n      left: '-30px',\n      width: '80px'\n    }\n  };\n})(Tooltip);\nvar useStyles = makeStyles(function (theme) {\n  return {\n    box: {\n      display: 'flex',\n      margin: '5px 0',\n      alignItems: 'space-evenly',\n      padding: theme.spacing(1)\n    },\n    groupButton: {\n      marginLeft: 10,\n      marginTop: 20,\n      display: 'flex',\n      justifyContent: 'end'\n    },\n    search: {\n      width: '25%',\n      marginLeft: 'auto'\n    },\n    button1: {\n      marginLeft: 5\n    },\n    dialogContentText: {\n      marginBottom: 20\n    },\n    textField: {\n      margin: theme.spacing(1)\n    },\n    dialogTitle: {\n      marginBottom: 10\n    },\n    buttonEdit: {\n      '&:hover': {\n        backgroundColor: '#ff9e43c2 !important'\n      }\n    }\n  };\n});\n\nfunction Employee() {\n  var _this = this;\n\n  var classes = useStyles();\n\n  var _useTranslation = useTranslation(),\n      t = _useTranslation.t;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      itemList = _useState2[0],\n      setItemList = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      open = _useState4[0],\n      setOpen = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      deleteButton = _useState6[0],\n      setDeleteButton = _useState6[1];\n\n  var _useState7 = useState(''),\n      _useState8 = _slicedToArray(_useState7, 2),\n      search = _useState8[0],\n      setSearch = _useState8[1];\n\n  var _useState9 = useState({}),\n      _useState10 = _slicedToArray(_useState9, 2),\n      oldUser = _useState10[0],\n      setOldUser = _useState10[1];\n\n  var columns = [{\n    title: 'Thao tác',\n    field: '',\n    render: function render(rowData) {\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(LightTooltip, {\n        title: t('general.editIcon'),\n        placement: \"right-end\",\n        enterDelay: 300,\n        leaveDelay: 200,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 6\n        }\n      }, /*#__PURE__*/React.createElement(IconButton, {\n        size: \"small\",\n        onClick: function onClick() {\n          handleEdit(rowData);\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(Icon, {\n        fontSize: \"small\",\n        color: \"primary\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 8\n        }\n      }, \"edit\"))), /*#__PURE__*/React.createElement(LightTooltip, {\n        title: t('general.deleteIcon'),\n        placement: \"right-end\",\n        enterDelay: 300,\n        leaveDelay: 200,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 6\n        }\n      }, /*#__PURE__*/React.createElement(IconButton, {\n        size: \"small\",\n        onClick: function onClick() {\n          handleOpenDelete(rowData);\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(Icon, {\n        fontSize: \"small\",\n        color: \"error\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 8\n        }\n      }, \"delete\"))));\n    }\n  }, {\n    title: 'Tên',\n    field: 'name'\n  }, {\n    title: 'Code',\n    field: 'code'\n  }, {\n    title: 'Tuổi',\n    field: 'age'\n  }, {\n    title: 'Email',\n    field: 'email'\n  }, {\n    title: 'Điện thoại',\n    field: 'phone'\n  }];\n  useEffect(function () {\n    searchByDto({}).then(function (res) {\n      setItemList(res.data.data);\n    });\n  }, []);\n  useEffect(function () {\n    searchByDto({}).then(function (res) {\n      setItemList(res.data.data.filter(function (employee) {\n        return handleSearch(employee);\n      }));\n    });\n  }, [search]); //Render\n\n  var reRender = function reRender() {\n    searchByDto({}).then(function (res) {\n      setItemList(res.data.data);\n    });\n  };\n\n  var handleSearch = function handleSearch(employee) {\n    if (search === '') {\n      return employee;\n    } else {\n      if (search !== '') {\n        var keySearch = search.toLowerCase();\n\n        if (employee.name.toLowerCase().includes(keySearch) || employee.email.toLowerCase().includes(keySearch) || employee.code.toLowerCase().includes(keySearch)) {\n          return employee;\n        }\n      }\n    }\n  };\n\n  var handleOpen = function handleOpen() {\n    setOpen(true);\n    setOldUser({});\n  };\n\n  var handleClose = function handleClose() {\n    setOpen(false);\n    setOldUser({});\n  }; //delete\n\n\n  var handleClose__Delete = function handleClose__Delete() {\n    setDeleteButton(false);\n  };\n\n  var handleOpenDelete = function handleOpenDelete(rowData) {\n    setDeleteButton(true);\n    setOldUser(rowData);\n  };\n\n  var handleDeleteEmployee = function handleDeleteEmployee(data) {\n    setOldUser(data);\n    deleteEmployee(data).then(function () {\n      reRender();\n      handleClose__Delete();\n      toast.success('Xóa thành công');\n    });\n  }; // edit\n\n\n  var handleEdit = function handleEdit(rowData) {\n    setOpen(true);\n    setOldUser(rowData);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"m-sm-30\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 3\n    }\n  }, open && /*#__PURE__*/React.createElement(EmployeeEditorDialog, {\n    open: open,\n    employeeData: oldUser,\n    handleClose: handleClose,\n    setOpen: setOpen,\n    reRender: reRender,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(Grid, {\n    className: classes.box,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(Helmet, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"title\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 6\n    }\n  }, \"Qu\\u1EA3n l\\xFD nh\\xE2n vi\\xEAn\")), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Breadcrumb, {\n    routeSegments: [{\n      name: 'Danh mục'\n    }, {\n      name: 'Nhân viên'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 6\n    }\n  }))), /*#__PURE__*/React.createElement(Grid, {\n    className: classes.box,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    onClick: handleOpen,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 5\n    }\n  }, \"Th\\xEAm m\\u1EDBi\", /*#__PURE__*/React.createElement(PersonAddIcon, {\n    className: classes.button1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 6\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    className: classes.search,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    label: \"Search\",\n    type: \"text\",\n    fullWidth: true,\n    value: search,\n    onChange: function onChange(e) {\n      e.preventDefault();\n      setSearch(e.target.value);\n    },\n    InputProps: {\n      startAdornment: /*#__PURE__*/React.createElement(SearchIcon, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 24\n        }\n      })\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 6\n    }\n  }))), /*#__PURE__*/React.createElement(Grid, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(ConfirmationDialog, {\n    open: deleteButton,\n    onConfirmDialogClose: handleClose__Delete,\n    onYesClick: function onYesClick() {\n      handleDeleteEmployee(oldUser);\n    },\n    text: \"B\\u1EA1n c\\xF3 ch\\u1EAFc mu\\u1ED1n x\\xF3a \\\"\".concat(oldUser.name, \"\\\"?\"),\n    title: \"X\\xE1c nh\\u1EADn\",\n    No: 'Không',\n    Yes: 'Đồng ý',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 5\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(MaterialTable, {\n    title: 'Danh sách nhân viên',\n    data: itemList,\n    columns: columns,\n    options: {\n      selection: false,\n      paging: true,\n      search: false,\n      exportButton: true,\n      rowStyle: function rowStyle(rowData, index) {\n        return {\n          backgroundColor: index % 2 === 1 ? '#EEE' : '#FFF'\n        };\n      },\n      headerStyle: {\n        backgroundColor: '#358600',\n        color: '#fff'\n      },\n      padding: 'dense',\n      toolbar: true\n    },\n    localization: {\n      body: {\n        emptyDataSourceMessage: 'No data'\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 5\n    }\n  })));\n}\n\nexport default Employee;","map":{"version":3,"sources":["C:/Users/ADMIN/Desktop/employee-main/client/src/app/views/Employee/Employee.jsx"],"names":["React","useState","useEffect","MaterialTable","Grid","TextField","Button","IconButton","Icon","makeStyles","Helmet","Breadcrumb","ConfirmationDialog","PersonAddIcon","withStyles","Tooltip","SearchIcon","EmployeeEditorDialog","searchByDto","deleteEmployee","toast","useTranslation","configure","autoClose","draggable","limit","LightTooltip","theme","tooltip","backgroundColor","palette","common","white","color","boxShadow","shadows","fontSize","position","top","left","width","useStyles","box","display","margin","alignItems","padding","spacing","groupButton","marginLeft","marginTop","justifyContent","search","button1","dialogContentText","marginBottom","textField","dialogTitle","buttonEdit","Employee","classes","t","itemList","setItemList","open","setOpen","deleteButton","setDeleteButton","setSearch","oldUser","setOldUser","columns","title","field","render","rowData","handleEdit","handleOpenDelete","then","res","data","filter","employee","handleSearch","reRender","keySearch","toLowerCase","name","includes","email","code","handleOpen","handleClose","handleClose__Delete","handleDeleteEmployee","success","e","preventDefault","target","value","startAdornment","selection","paging","exportButton","rowStyle","index","headerStyle","toolbar","body","emptyDataSourceMessage"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,aAAP,MAA0B,gBAA1B;AAEA,SAASC,IAAT,EAAeC,SAAf,EAA0BC,MAA1B,EAAkCC,UAAlC,EAA8CC,IAA9C,QAA0D,mBAA1D;AACA,SAASC,UAAT,QAA2B,0BAA3B;AACA,SAASC,MAAT,QAAuB,cAAvB;AACA,SAASC,UAAT,EAAqBC,kBAArB,QAA+C,OAA/C;AACA,OAAOC,aAAP,MAA0B,8BAA1B;AACA,SAASC,UAAT,QAA2B,0BAA3B;AACA,SAASC,OAAT,QAAwB,mBAAxB;AAEA,OAAOC,UAAP,MAAuB,2BAAvB;AACA,OAAOC,oBAAP,MAAiC,wBAAjC;AACA,SAASC,WAAT,EAAsBC,cAAtB,QAA4C,mBAA5C;AACA,SAASC,KAAT,QAAsB,gBAAtB;AACA,SAASC,cAAT,QAA+B,eAA/B;AAEAD,KAAK,CAACE,SAAN,CAAgB;AACfC,EAAAA,SAAS,EAAE,IADI;AAEfC,EAAAA,SAAS,EAAE,KAFI;AAGfC,EAAAA,KAAK,EAAE;AAHQ,CAAhB;AAMA,IAAMC,YAAY,GAAGZ,UAAU,CAAC,UAACa,KAAD;AAAA,SAAY;AAC3CC,IAAAA,OAAO,EAAE;AACRC,MAAAA,eAAe,EAAEF,KAAK,CAACG,OAAN,CAAcC,MAAd,CAAqBC,KAD9B;AAERC,MAAAA,KAAK,EAAE,qBAFC;AAGRC,MAAAA,SAAS,EAAEP,KAAK,CAACQ,OAAN,CAAc,CAAd,CAHH;AAIRC,MAAAA,QAAQ,EAAE,EAJF;AAKRC,MAAAA,QAAQ,EAAE,UALF;AAMRC,MAAAA,GAAG,EAAE,OANG;AAORC,MAAAA,IAAI,EAAE,OAPE;AAQRC,MAAAA,KAAK,EAAE;AARC;AADkC,GAAZ;AAAA,CAAD,CAAV,CAWjBzB,OAXiB,CAArB;AAaA,IAAM0B,SAAS,GAAGhC,UAAU,CAAC,UAACkB,KAAD;AAAA,SAAY;AACxCe,IAAAA,GAAG,EAAE;AACJC,MAAAA,OAAO,EAAE,MADL;AAEJC,MAAAA,MAAM,EAAE,OAFJ;AAGJC,MAAAA,UAAU,EAAE,cAHR;AAIJC,MAAAA,OAAO,EAAEnB,KAAK,CAACoB,OAAN,CAAc,CAAd;AAJL,KADmC;AAQxCC,IAAAA,WAAW,EAAE;AACZC,MAAAA,UAAU,EAAE,EADA;AAEZC,MAAAA,SAAS,EAAE,EAFC;AAGZP,MAAAA,OAAO,EAAE,MAHG;AAIZQ,MAAAA,cAAc,EAAE;AAJJ,KAR2B;AAcxCC,IAAAA,MAAM,EAAE;AACPZ,MAAAA,KAAK,EAAE,KADA;AAEPS,MAAAA,UAAU,EAAE;AAFL,KAdgC;AAkBxCI,IAAAA,OAAO,EAAE;AACRJ,MAAAA,UAAU,EAAE;AADJ,KAlB+B;AAqBxCK,IAAAA,iBAAiB,EAAE;AAClBC,MAAAA,YAAY,EAAE;AADI,KArBqB;AAwBxCC,IAAAA,SAAS,EAAE;AACVZ,MAAAA,MAAM,EAAEjB,KAAK,CAACoB,OAAN,CAAc,CAAd;AADE,KAxB6B;AA2BxCU,IAAAA,WAAW,EAAE;AACZF,MAAAA,YAAY,EAAE;AADF,KA3B2B;AA8BxCG,IAAAA,UAAU,EAAE;AACX,iBAAW;AAAE7B,QAAAA,eAAe,EAAE;AAAnB;AADA;AA9B4B,GAAZ;AAAA,CAAD,CAA5B;;AAmCA,SAAS8B,QAAT,GAAoB;AAAA;;AACnB,MAAMC,OAAO,GAAGnB,SAAS,EAAzB;;AADmB,wBAELpB,cAAc,EAFT;AAAA,MAEXwC,CAFW,mBAEXA,CAFW;;AAAA,kBAIa5D,QAAQ,CAAC,EAAD,CAJrB;AAAA;AAAA,MAIZ6D,QAJY;AAAA,MAIFC,WAJE;;AAAA,mBAKK9D,QAAQ,CAAC,KAAD,CALb;AAAA;AAAA,MAKZ+D,IALY;AAAA,MAKNC,OALM;;AAAA,mBAMqBhE,QAAQ,CAAC,KAAD,CAN7B;AAAA;AAAA,MAMZiE,YANY;AAAA,MAMEC,eANF;;AAAA,mBAOSlE,QAAQ,CAAC,EAAD,CAPjB;AAAA;AAAA,MAOZmD,MAPY;AAAA,MAOJgB,SAPI;;AAAA,mBAQWnE,QAAQ,CAAC,EAAD,CARnB;AAAA;AAAA,MAQZoE,OARY;AAAA,MAQHC,UARG;;AAUnB,MAAMC,OAAO,GAAG,CACf;AACCC,IAAAA,KAAK,EAAE,UADR;AAECC,IAAAA,KAAK,EAAE,EAFR;AAGCC,IAAAA,MAAM,EAAE,gBAACC,OAAD;AAAA,0BACP,uDACC,oBAAC,YAAD;AACC,QAAA,KAAK,EAAEd,CAAC,CAAC,kBAAD,CADT;AAEC,QAAA,SAAS,EAAC,WAFX;AAGC,QAAA,UAAU,EAAE,GAHb;AAIC,QAAA,UAAU,EAAE,GAJb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAKC,oBAAC,UAAD;AACC,QAAA,IAAI,EAAC,OADN;AAEC,QAAA,OAAO,EAAE,mBAAM;AACde,UAAAA,UAAU,CAACD,OAAD,CAAV;AACA,SAJF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAKC,oBAAC,IAAD;AACC,QAAA,QAAQ,EAAC,OADV;AAEC,QAAA,KAAK,EAAC,SAFP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBALD,CALD,CADD,eAkBC,oBAAC,YAAD;AACC,QAAA,KAAK,EAAEd,CAAC,CAAC,oBAAD,CADT;AAEC,QAAA,SAAS,EAAC,WAFX;AAGC,QAAA,UAAU,EAAE,GAHb;AAIC,QAAA,UAAU,EAAE,GAJb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAKC,oBAAC,UAAD;AACC,QAAA,IAAI,EAAC,OADN;AAEC,QAAA,OAAO,EAAE,mBAAM;AACdgB,UAAAA,gBAAgB,CAACF,OAAD,CAAhB;AACA,SAJF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAKC,oBAAC,IAAD;AACC,QAAA,QAAQ,EAAC,OADV;AAEC,QAAA,KAAK,EAAC,OAFP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBALD,CALD,CAlBD,CADO;AAAA;AAHT,GADe,EA2Cf;AAAEH,IAAAA,KAAK,EAAE,KAAT;AAAgBC,IAAAA,KAAK,EAAE;AAAvB,GA3Ce,EA4Cf;AAAED,IAAAA,KAAK,EAAE,MAAT;AAAiBC,IAAAA,KAAK,EAAE;AAAxB,GA5Ce,EA6Cf;AAAED,IAAAA,KAAK,EAAE,MAAT;AAAiBC,IAAAA,KAAK,EAAE;AAAxB,GA7Ce,EA8Cf;AAAED,IAAAA,KAAK,EAAE,OAAT;AAAkBC,IAAAA,KAAK,EAAE;AAAzB,GA9Ce,EA+Cf;AAAED,IAAAA,KAAK,EAAE,YAAT;AAAuBC,IAAAA,KAAK,EAAE;AAA9B,GA/Ce,CAAhB;AAkDAvE,EAAAA,SAAS,CAAC,YAAM;AACfgB,IAAAA,WAAW,CAAC,EAAD,CAAX,CAAgB4D,IAAhB,CAAqB,UAACC,GAAD,EAAS;AAC7BhB,MAAAA,WAAW,CAACgB,GAAG,CAACC,IAAJ,CAASA,IAAV,CAAX;AACA,KAFD;AAGA,GAJQ,EAIN,EAJM,CAAT;AAKA9E,EAAAA,SAAS,CAAC,YAAM;AACfgB,IAAAA,WAAW,CAAC,EAAD,CAAX,CAAgB4D,IAAhB,CAAqB,UAACC,GAAD,EAAS;AAC7BhB,MAAAA,WAAW,CAACgB,GAAG,CAACC,IAAJ,CAASA,IAAT,CAAcC,MAAd,CAAqB,UAACC,QAAD;AAAA,eAAcC,YAAY,CAACD,QAAD,CAA1B;AAAA,OAArB,CAAD,CAAX;AACA,KAFD;AAGA,GAJQ,EAIN,CAAC9B,MAAD,CAJM,CAAT,CAjEmB,CAuEnB;;AACA,MAAMgC,QAAQ,GAAG,SAAXA,QAAW,GAAM;AACtBlE,IAAAA,WAAW,CAAC,EAAD,CAAX,CAAgB4D,IAAhB,CAAqB,UAACC,GAAD,EAAS;AAC7BhB,MAAAA,WAAW,CAACgB,GAAG,CAACC,IAAJ,CAASA,IAAV,CAAX;AACA,KAFD;AAGA,GAJD;;AAMA,MAAMG,YAAY,GAAG,SAAfA,YAAe,CAACD,QAAD,EAAc;AAClC,QAAI9B,MAAM,KAAK,EAAf,EAAmB;AAClB,aAAO8B,QAAP;AACA,KAFD,MAEO;AACN,UAAI9B,MAAM,KAAK,EAAf,EAAmB;AAClB,YAAIiC,SAAS,GAAGjC,MAAM,CAACkC,WAAP,EAAhB;;AACA,YACCJ,QAAQ,CAACK,IAAT,CAAcD,WAAd,GAA4BE,QAA5B,CAAqCH,SAArC,KACAH,QAAQ,CAACO,KAAT,CAAeH,WAAf,GAA6BE,QAA7B,CAAsCH,SAAtC,CADA,IAEAH,QAAQ,CAACQ,IAAT,CAAcJ,WAAd,GAA4BE,QAA5B,CAAqCH,SAArC,CAHD,EAIE;AACD,iBAAOH,QAAP;AACA;AACD;AACD;AACD,GAfD;;AAiBA,MAAMS,UAAU,GAAG,SAAbA,UAAa,GAAM;AACxB1B,IAAAA,OAAO,CAAC,IAAD,CAAP;AACAK,IAAAA,UAAU,CAAC,EAAD,CAAV;AACA,GAHD;;AAKA,MAAMsB,WAAW,GAAG,SAAdA,WAAc,GAAM;AACzB3B,IAAAA,OAAO,CAAC,KAAD,CAAP;AACAK,IAAAA,UAAU,CAAC,EAAD,CAAV;AACA,GAHD,CApGmB,CAyGnB;;;AAEA,MAAMuB,mBAAmB,GAAG,SAAtBA,mBAAsB,GAAM;AACjC1B,IAAAA,eAAe,CAAC,KAAD,CAAf;AACA,GAFD;;AAIA,MAAMU,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACF,OAAD,EAAa;AACrCR,IAAAA,eAAe,CAAC,IAAD,CAAf;AACAG,IAAAA,UAAU,CAACK,OAAD,CAAV;AACA,GAHD;;AAKA,MAAMmB,oBAAoB,GAAG,SAAvBA,oBAAuB,CAACd,IAAD,EAAU;AACtCV,IAAAA,UAAU,CAACU,IAAD,CAAV;AACA7D,IAAAA,cAAc,CAAC6D,IAAD,CAAd,CAAqBF,IAArB,CAA0B,YAAM;AAC/BM,MAAAA,QAAQ;AACRS,MAAAA,mBAAmB;AACnBzE,MAAAA,KAAK,CAAC2E,OAAN,CAAc,gBAAd;AACA,KAJD;AAKA,GAPD,CApHmB,CA6HnB;;;AACA,MAAMnB,UAAU,GAAG,SAAbA,UAAa,CAACD,OAAD,EAAa;AAC/BV,IAAAA,OAAO,CAAC,IAAD,CAAP;AACAK,IAAAA,UAAU,CAACK,OAAD,CAAV;AACA,GAHD;;AAKA,sBACC;AAAK,IAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACEX,IAAI,iBACJ,oBAAC,oBAAD;AACC,IAAA,IAAI,EAAEA,IADP;AAEC,IAAA,YAAY,EAAEK,OAFf;AAGC,IAAA,WAAW,EAAEuB,WAHd;AAIC,IAAA,OAAO,EAAE3B,OAJV;AAKC,IAAA,QAAQ,EAAEmB,QALX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,eAWC,oBAAC,IAAD;AAAM,IAAA,SAAS,EAAExB,OAAO,CAAClB,GAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACC,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uCADD,CADD,eAIC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACC,oBAAC,UAAD;AACC,IAAA,aAAa,EAAE,CAAC;AAAE6C,MAAAA,IAAI,EAAE;AAAR,KAAD,EAAuB;AAAEA,MAAAA,IAAI,EAAE;AAAR,KAAvB,CADhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADD,CAJD,CAXD,eAsBC,oBAAC,IAAD;AAAM,IAAA,SAAS,EAAE3B,OAAO,CAAClB,GAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACC,oBAAC,MAAD;AACC,IAAA,OAAO,EAAC,WADT;AAEC,IAAA,KAAK,EAAC,SAFP;AAGC,IAAA,OAAO,EAAEiD,UAHV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sCAKC,oBAAC,aAAD;AAAe,IAAA,SAAS,EAAE/B,OAAO,CAACP,OAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALD,CADD,eAUC,oBAAC,IAAD;AAAM,IAAA,SAAS,EAAEO,OAAO,CAACR,MAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACC,oBAAC,SAAD;AACC,IAAA,KAAK,EAAC,QADP;AAEC,IAAA,IAAI,EAAC,MAFN;AAGC,IAAA,SAAS,MAHV;AAIC,IAAA,KAAK,EAAEA,MAJR;AAKC,IAAA,QAAQ,EAAE,kBAAC4C,CAAD,EAAO;AAChBA,MAAAA,CAAC,CAACC,cAAF;AACA7B,MAAAA,SAAS,CAAC4B,CAAC,CAACE,MAAF,CAASC,KAAV,CAAT;AACA,KARF;AASC,IAAA,UAAU,EAAE;AACXC,MAAAA,cAAc,eAAE,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADL,KATb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADD,CAVD,CAtBD,eAiDC,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACC,oBAAC,kBAAD;AACC,IAAA,IAAI,EAAElC,YADP;AAEC,IAAA,oBAAoB,EAAE2B,mBAFvB;AAGC,IAAA,UAAU,EAAE,sBAAM;AACjBC,MAAAA,oBAAoB,CAACzB,OAAD,CAApB;AACA,KALF;AAMC,IAAA,IAAI,wDAA2BA,OAAO,CAACkB,IAAnC,QANL;AAOC,IAAA,KAAK,EAAC,kBAPP;AAQC,IAAA,EAAE,EAAE,OARL;AASC,IAAA,GAAG,EAAE,QATN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADD,CAjDD,eA+DC,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAE,EAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACC,oBAAC,aAAD;AACC,IAAA,KAAK,EAAE,qBADR;AAEC,IAAA,IAAI,EAAEzB,QAFP;AAGC,IAAA,OAAO,EAAES,OAHV;AAIC,IAAA,OAAO,EAAE;AACR8B,MAAAA,SAAS,EAAE,KADH;AAERC,MAAAA,MAAM,EAAE,IAFA;AAGRlD,MAAAA,MAAM,EAAE,KAHA;AAIRmD,MAAAA,YAAY,EAAE,IAJN;AAMRC,MAAAA,QAAQ,EAAE,kBAAC7B,OAAD,EAAU8B,KAAV;AAAA,eAAqB;AAC9B5E,UAAAA,eAAe,EAAE4E,KAAK,GAAG,CAAR,KAAc,CAAd,GAAkB,MAAlB,GAA2B;AADd,SAArB;AAAA,OANF;AASRC,MAAAA,WAAW,EAAE;AACZ7E,QAAAA,eAAe,EAAE,SADL;AAEZI,QAAAA,KAAK,EAAE;AAFK,OATL;AAaRa,MAAAA,OAAO,EAAE,OAbD;AAcR6D,MAAAA,OAAO,EAAE;AAdD,KAJV;AAoBC,IAAA,YAAY,EAAE;AACbC,MAAAA,IAAI,EAAE;AACLC,QAAAA,sBAAsB,EAAE;AADnB;AADO,KApBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADD,CA/DD,CADD;AA8FA;;AAED,eAAelD,QAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport MaterialTable from 'material-table';\n\nimport { Grid, TextField, Button, IconButton, Icon } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Helmet } from 'react-helmet';\nimport { Breadcrumb, ConfirmationDialog } from 'egret';\nimport PersonAddIcon from '@material-ui/icons/PersonAdd';\nimport { withStyles } from '@material-ui/core/styles';\nimport { Tooltip } from '@material-ui/core';\n\nimport SearchIcon from '@material-ui/icons/Search';\nimport EmployeeEditorDialog from './EmployeeEditorDialog';\nimport { searchByDto, deleteEmployee } from './EmployeeService';\nimport { toast } from 'react-toastify';\nimport { useTranslation } from 'react-i18next';\n\ntoast.configure({\n\tautoClose: 1000,\n\tdraggable: false,\n\tlimit: 3,\n});\n\nconst LightTooltip = withStyles((theme) => ({\n\ttooltip: {\n\t\tbackgroundColor: theme.palette.common.white,\n\t\tcolor: 'rgba(0, 0, 0, 0.87)',\n\t\tboxShadow: theme.shadows[1],\n\t\tfontSize: 11,\n\t\tposition: 'absolute',\n\t\ttop: '-15px',\n\t\tleft: '-30px',\n\t\twidth: '80px',\n\t},\n}))(Tooltip);\n\nconst useStyles = makeStyles((theme) => ({\n\tbox: {\n\t\tdisplay: 'flex',\n\t\tmargin: '5px 0',\n\t\talignItems: 'space-evenly',\n\t\tpadding: theme.spacing(1),\n\t},\n\n\tgroupButton: {\n\t\tmarginLeft: 10,\n\t\tmarginTop: 20,\n\t\tdisplay: 'flex',\n\t\tjustifyContent: 'end',\n\t},\n\tsearch: {\n\t\twidth: '25%',\n\t\tmarginLeft: 'auto',\n\t},\n\tbutton1: {\n\t\tmarginLeft: 5,\n\t},\n\tdialogContentText: {\n\t\tmarginBottom: 20,\n\t},\n\ttextField: {\n\t\tmargin: theme.spacing(1),\n\t},\n\tdialogTitle: {\n\t\tmarginBottom: 10,\n\t},\n\tbuttonEdit: {\n\t\t'&:hover': { backgroundColor: '#ff9e43c2 !important' },\n\t},\n}));\n\nfunction Employee() {\n\tconst classes = useStyles();\n\tconst { t } = useTranslation();\n\n\tconst [itemList, setItemList] = useState([]);\n\tconst [open, setOpen] = useState(false);\n\tconst [deleteButton, setDeleteButton] = useState(false);\n\tconst [search, setSearch] = useState('');\n\tconst [oldUser, setOldUser] = useState({});\n\n\tconst columns = [\n\t\t{\n\t\t\ttitle: 'Thao tác',\n\t\t\tfield: '',\n\t\t\trender: (rowData) => (\n\t\t\t\t<>\n\t\t\t\t\t<LightTooltip\n\t\t\t\t\t\ttitle={t('general.editIcon')}\n\t\t\t\t\t\tplacement=\"right-end\"\n\t\t\t\t\t\tenterDelay={300}\n\t\t\t\t\t\tleaveDelay={200}>\n\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\thandleEdit(rowData);\n\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\t\tfontSize=\"small\"\n\t\t\t\t\t\t\t\tcolor=\"primary\">\n\t\t\t\t\t\t\t\tedit\n\t\t\t\t\t\t\t</Icon>\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t</LightTooltip>\n\t\t\t\t\t<LightTooltip\n\t\t\t\t\t\ttitle={t('general.deleteIcon')}\n\t\t\t\t\t\tplacement=\"right-end\"\n\t\t\t\t\t\tenterDelay={300}\n\t\t\t\t\t\tleaveDelay={200}>\n\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\thandleOpenDelete(rowData);\n\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\t\tfontSize=\"small\"\n\t\t\t\t\t\t\t\tcolor=\"error\">\n\t\t\t\t\t\t\t\tdelete\n\t\t\t\t\t\t\t</Icon>\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t</LightTooltip>\n\t\t\t\t</>\n\t\t\t),\n\t\t},\n\t\t{ title: 'Tên', field: 'name' },\n\t\t{ title: 'Code', field: 'code' },\n\t\t{ title: 'Tuổi', field: 'age' },\n\t\t{ title: 'Email', field: 'email' },\n\t\t{ title: 'Điện thoại', field: 'phone' },\n\t];\n\n\tuseEffect(() => {\n\t\tsearchByDto({}).then((res) => {\n\t\t\tsetItemList(res.data.data);\n\t\t});\n\t}, []);\n\tuseEffect(() => {\n\t\tsearchByDto({}).then((res) => {\n\t\t\tsetItemList(res.data.data.filter((employee) => handleSearch(employee)));\n\t\t});\n\t}, [search]);\n\n\t//Render\n\tconst reRender = () => {\n\t\tsearchByDto({}).then((res) => {\n\t\t\tsetItemList(res.data.data);\n\t\t});\n\t};\n\n\tconst handleSearch = (employee) => {\n\t\tif (search === '') {\n\t\t\treturn employee;\n\t\t} else {\n\t\t\tif (search !== '') {\n\t\t\t\tlet keySearch = search.toLowerCase();\n\t\t\t\tif (\n\t\t\t\t\temployee.name.toLowerCase().includes(keySearch) ||\n\t\t\t\t\temployee.email.toLowerCase().includes(keySearch) ||\n\t\t\t\t\temployee.code.toLowerCase().includes(keySearch)\n\t\t\t\t) {\n\t\t\t\t\treturn employee;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\tconst handleOpen = () => {\n\t\tsetOpen(true);\n\t\tsetOldUser({});\n\t};\n\n\tconst handleClose = () => {\n\t\tsetOpen(false);\n\t\tsetOldUser({});\n\t};\n\n\t//delete\n\n\tconst handleClose__Delete = () => {\n\t\tsetDeleteButton(false);\n\t};\n\n\tconst handleOpenDelete = (rowData) => {\n\t\tsetDeleteButton(true);\n\t\tsetOldUser(rowData);\n\t};\n\n\tconst handleDeleteEmployee = (data) => {\n\t\tsetOldUser(data);\n\t\tdeleteEmployee(data).then(() => {\n\t\t\treRender();\n\t\t\thandleClose__Delete();\n\t\t\ttoast.success('Xóa thành công');\n\t\t});\n\t};\n\n\t// edit\n\tconst handleEdit = (rowData) => {\n\t\tsetOpen(true);\n\t\tsetOldUser(rowData);\n\t};\n\n\treturn (\n\t\t<div className=\"m-sm-30\">\n\t\t\t{open && (\n\t\t\t\t<EmployeeEditorDialog\n\t\t\t\t\topen={open}\n\t\t\t\t\temployeeData={oldUser}\n\t\t\t\t\thandleClose={handleClose}\n\t\t\t\t\tsetOpen={setOpen}\n\t\t\t\t\treRender={reRender}\n\t\t\t\t/>\n\t\t\t)}\n\n\t\t\t<Grid className={classes.box}>\n\t\t\t\t<Helmet>\n\t\t\t\t\t<title>Quản lý nhân viên</title>\n\t\t\t\t</Helmet>\n\t\t\t\t<div>\n\t\t\t\t\t<Breadcrumb\n\t\t\t\t\t\trouteSegments={[{ name: 'Danh mục' }, { name: 'Nhân viên' }]}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</Grid>\n\n\t\t\t<Grid className={classes.box}>\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\tonClick={handleOpen}>\n\t\t\t\t\tThêm mới\n\t\t\t\t\t<PersonAddIcon className={classes.button1} />\n\t\t\t\t</Button>\n\n\t\t\t\t{/* Search Input */}\n\t\t\t\t<Grid className={classes.search}>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tlabel=\"Search\"\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tvalue={search}\n\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\tsetSearch(e.target.value);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\tstartAdornment: <SearchIcon />,\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\n\t\t\t<Grid>\n\t\t\t\t<ConfirmationDialog\n\t\t\t\t\topen={deleteButton}\n\t\t\t\t\tonConfirmDialogClose={handleClose__Delete}\n\t\t\t\t\tonYesClick={() => {\n\t\t\t\t\t\thandleDeleteEmployee(oldUser);\n\t\t\t\t\t}}\n\t\t\t\t\ttext={`Bạn có chắc muốn xóa \"${oldUser.name}\"?`}\n\t\t\t\t\ttitle=\"Xác nhận\"\n\t\t\t\t\tNo={'Không'}\n\t\t\t\t\tYes={'Đồng ý'}\n\t\t\t\t/>\n\t\t\t</Grid>\n\n\t\t\t<Grid xs={12}>\n\t\t\t\t<MaterialTable\n\t\t\t\t\ttitle={'Danh sách nhân viên'}\n\t\t\t\t\tdata={itemList}\n\t\t\t\t\tcolumns={columns}\n\t\t\t\t\toptions={{\n\t\t\t\t\t\tselection: false,\n\t\t\t\t\t\tpaging: true,\n\t\t\t\t\t\tsearch: false,\n\t\t\t\t\t\texportButton: true,\n\n\t\t\t\t\t\trowStyle: (rowData, index) => ({\n\t\t\t\t\t\t\tbackgroundColor: index % 2 === 1 ? '#EEE' : '#FFF',\n\t\t\t\t\t\t}),\n\t\t\t\t\t\theaderStyle: {\n\t\t\t\t\t\t\tbackgroundColor: '#358600',\n\t\t\t\t\t\t\tcolor: '#fff',\n\t\t\t\t\t\t},\n\t\t\t\t\t\tpadding: 'dense',\n\t\t\t\t\t\ttoolbar: true,\n\t\t\t\t\t}}\n\t\t\t\t\tlocalization={{\n\t\t\t\t\t\tbody: {\n\t\t\t\t\t\t\temptyDataSourceMessage: 'No data',\n\t\t\t\t\t\t},\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t</Grid>\n\t\t</div>\n\t);\n}\n\nexport default Employee;\n"]},"metadata":{},"sourceType":"module"}