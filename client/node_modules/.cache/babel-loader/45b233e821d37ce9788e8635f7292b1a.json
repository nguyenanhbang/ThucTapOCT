{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\ADMIN\\\\Downloads\\\\ThucTap\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\ADMIN\\\\Downloads\\\\ThucTap\\\\client\\\\src\\\\app\\\\views\\\\Employee\\\\Employee.jsx\";\nimport React, { useState, useEffect } from \"react\";\nimport MaterialTable, { MTableToolbar } from \"material-table\";\nimport { Grid, TextField, Dialog, DialogTitle, DialogContent, ButtonGroup, Button, DialogContentText } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Helmet } from 'react-helmet';\nimport { Breadcrumb, ConfirmationDialog } from 'egret';\nimport PersonAddIcon from \"@material-ui/icons/PersonAdd\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport EmployeeEditorDialog from \"./EmployeeEditorDialog\";\nimport { searchByDto, deleteEmployee, updateEmployee } from \"./EmployeeService\";\nimport { toast } from 'react-toastify';\ntoast.configure({\n  autoClose: 1000,\n  draggable: false,\n  limit: 3\n});\nvar useStyles = makeStyles(function (theme) {\n  return {\n    box: {\n      display: 'flex',\n      margin: '5px 0',\n      alignItems: 'space-evenly',\n      padding: theme.spacing(1)\n    },\n    groupButton: {\n      marginLeft: 10,\n      marginTop: 20,\n      display: 'flex',\n      justifyContent: 'end'\n    },\n    search: {\n      width: '25%',\n      marginLeft: 'auto'\n    },\n    button1: {\n      marginLeft: 5\n    },\n    dialogContentText: {\n      marginBottom: 20\n    },\n    textField: {\n      margin: theme.spacing(1)\n    },\n    dialogTitle: {\n      marginBottom: 10\n    }\n  };\n});\n\nfunction Employee() {\n  var _this = this;\n\n  var classes = useStyles();\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      itemList = _useState2[0],\n      setItemList = _useState2[1];\n\n  var _useState3 = useState(true),\n      _useState4 = _slicedToArray(_useState3, 2),\n      state = _useState4[0],\n      setState = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      open = _useState6[0],\n      setOpen = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      deleteButton = _useState8[0],\n      setDeleteButton = _useState8[1];\n\n  var _useState9 = useState(false),\n      _useState10 = _slicedToArray(_useState9, 2),\n      submit = _useState10[0],\n      setSubmit = _useState10[1];\n\n  var _useState11 = useState(''),\n      _useState12 = _slicedToArray(_useState11, 2),\n      search = _useState12[0],\n      setSearch = _useState12[1];\n\n  var _useState13 = useState({}),\n      _useState14 = _slicedToArray(_useState13, 2),\n      oldUser = _useState14[0],\n      setOldUser = _useState14[1];\n\n  var columns = [{\n    title: 'Actions',\n    field: '',\n    render: function render(rowData) {\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ButtonGroup, {\n        variant: \"text\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(EditIcon, {\n        color: \"primary\",\n        onClick: function onClick() {\n          handleEdit(rowData);\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 29\n        }\n      })), /*#__PURE__*/React.createElement(Button, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(DeleteIcon, {\n        color: \"error\",\n        onClick: function onClick() {\n          handleOpenDelete(rowData);\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 29\n        }\n      }))));\n    }\n  }, {\n    title: \"Name\",\n    field: \"name\"\n  }, {\n    title: \"Code\",\n    field: \"code\"\n  }, {\n    title: \"Age\",\n    field: \"age\"\n  }, {\n    title: \"Phone\",\n    field: \"phone\"\n  }, {\n    title: \"Email\",\n    field: \"email\"\n  }];\n  useEffect(function () {\n    if (search) {\n      searchByDto({}).then(function (res) {\n        setItemList(res.data.data.filter(function (employee) {\n          return handleSearch(employee);\n        }));\n      });\n    }\n\n    if (state) {\n      reRender();\n    }\n  }, [state, search]); //Render\n\n  var reRender = function reRender() {\n    searchByDto({}).then(function (res) {\n      setItemList(res.data.data);\n    });\n  };\n\n  {\n    /* Search*/\n  }\n\n  var handleSearch = function handleSearch(employee) {\n    if (search === \"\") {\n      return employee;\n    } else {\n      if (search !== \"\") {\n        if (employee.name.toLowerCase().includes(search.toLowerCase())) {\n          return employee;\n        }\n      }\n    }\n  }; //edit\n\n\n  var handleOpen = function handleOpen() {\n    setOpen(true);\n    setOldUser({});\n  };\n\n  var handleClose = function handleClose() {\n    setOpen(false);\n    reRender();\n  }; //delete\n\n\n  var handleClose__Delete = function handleClose__Delete() {\n    setDeleteButton(false);\n  };\n\n  var handleOpenDelete = function handleOpenDelete(rowData) {\n    setDeleteButton(true);\n    setOldUser(rowData);\n  };\n\n  var handleDeleteEmployee = function handleDeleteEmployee(data) {\n    setOldUser(data);\n    deleteEmployee(data).then(function () {\n      reRender();\n      handleClose__Delete();\n      toast.success(\"Xóa thành công\");\n    });\n  }; // edit\n\n\n  var handleEdit = function handleEdit(rowData) {\n    setOpen(true);\n    setOldUser(rowData);\n  };\n\n  var handleSubmit = function handleSubmit(name, age, code, email, phone, province, district, commune) {};\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"m-sm-30\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(EmployeeEditorDialog, {\n    employeeData: oldUser,\n    setstate: setState,\n    state: state,\n    handleClose: handleClose,\n    submit: submit,\n    open: open,\n    setOpen: setOpen,\n    reRender: reRender,\n    setSubmit: setSubmit,\n    setHandleSubmit: function setHandleSubmit(name, age, code, email, phone, province, district, commune) {\n      return handleSubmit(name, age, code, email, phone, province, district, commune);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Grid, {\n    className: classes.box,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Helmet, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"title\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 21\n    }\n  }, \"Qu\\u1EA3n l\\xFD nh\\xE2n vi\\xEAn\")), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Breadcrumb, {\n    routeSegments: [{\n      name: \"Danh mục\",\n      path: \"/directory/apartment\"\n    }, {\n      name: \"Nhân viên\"\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 21\n    }\n  }))), /*#__PURE__*/React.createElement(Grid, {\n    className: classes.box,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    onClick: handleOpen,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 17\n    }\n  }, \"Th\\xEAm m\\u1EDBi\", /*#__PURE__*/React.createElement(PersonAddIcon, {\n    className: classes.button1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    className: classes.search,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    label: \"Search\",\n    type: \"text\",\n    fullWidth: true,\n    value: search,\n    onChange: function onChange(e) {\n      e.preventDefault();\n      setSearch(e.target.value);\n    },\n    InputProps: {\n      startAdornment: /*#__PURE__*/React.createElement(SearchIcon, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 33\n        }\n      })\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 21\n    }\n  }))), /*#__PURE__*/React.createElement(Grid, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(ConfirmationDialog, {\n    open: deleteButton,\n    onConfirmDialogClose: handleClose__Delete,\n    onYesClick: function onYesClick() {\n      handleDeleteEmployee(oldUser);\n    },\n    text: 'Bạn có chắc xóa: ' + oldUser.name,\n    cancel: 'Cancel',\n    agree: 'Agrre',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(MaterialTable, {\n    title: \"\",\n    data: itemList,\n    columns: columns,\n    options: {\n      selection: false,\n      paging: true,\n      search: false,\n      exportButton: true,\n      rowStyle: function rowStyle(rowData, index) {\n        return {\n          backgroundColor: index % 2 === 1 ? '#EEE' : '#FFF'\n        };\n      },\n      headerStyle: {\n        backgroundColor: '#358600',\n        color: '#fff'\n      },\n      padding: 'dense',\n      toolbar: true\n    },\n    localization: {\n      body: {\n        emptyDataSourceMessage: \"No data\"\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 17\n    }\n  })));\n}\n\nexport default Employee;","map":{"version":3,"sources":["C:/Users/ADMIN/Downloads/ThucTap/client/src/app/views/Employee/Employee.jsx"],"names":["React","useState","useEffect","MaterialTable","MTableToolbar","Grid","TextField","Dialog","DialogTitle","DialogContent","ButtonGroup","Button","DialogContentText","makeStyles","Helmet","Breadcrumb","ConfirmationDialog","PersonAddIcon","EditIcon","DeleteIcon","SearchIcon","EmployeeEditorDialog","searchByDto","deleteEmployee","updateEmployee","toast","configure","autoClose","draggable","limit","useStyles","theme","box","display","margin","alignItems","padding","spacing","groupButton","marginLeft","marginTop","justifyContent","search","width","button1","dialogContentText","marginBottom","textField","dialogTitle","Employee","classes","itemList","setItemList","state","setState","open","setOpen","deleteButton","setDeleteButton","submit","setSubmit","setSearch","oldUser","setOldUser","columns","title","field","render","rowData","handleEdit","handleOpenDelete","then","res","data","filter","employee","handleSearch","reRender","name","toLowerCase","includes","handleOpen","handleClose","handleClose__Delete","handleDeleteEmployee","success","handleSubmit","age","code","email","phone","province","district","commune","path","e","preventDefault","target","value","startAdornment","selection","paging","exportButton","rowStyle","index","backgroundColor","headerStyle","color","toolbar","body","emptyDataSourceMessage"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport MaterialTable, { MTableToolbar } from \"material-table\";\nimport { Grid, TextField, Dialog, DialogTitle, DialogContent, ButtonGroup, Button, DialogContentText } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Helmet } from 'react-helmet'\nimport { Breadcrumb, ConfirmationDialog } from 'egret'\nimport PersonAddIcon from \"@material-ui/icons/PersonAdd\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport EmployeeEditorDialog from \"./EmployeeEditorDialog\";\nimport { searchByDto, deleteEmployee, updateEmployee } from \"./EmployeeService\";\nimport { toast } from 'react-toastify';\n\ntoast.configure({\n    autoClose: 1000,\n    draggable: false,\n    limit: 3\n});\n\nconst useStyles = makeStyles((theme) => ({\n    box: {\n        display: 'flex',\n        margin: '5px 0',\n        alignItems: 'space-evenly',\n        padding: theme.spacing(1)\n    },\n\n    groupButton: {\n        marginLeft: 10,\n        marginTop: 20,\n        display: 'flex',\n        justifyContent: 'end',\n    },\n    search: {\n        width: '25%',\n        marginLeft: 'auto'\n    },\n    button1: {\n        marginLeft: 5,\n    },\n    dialogContentText: {\n        marginBottom: 20\n\n    },\n    textField: {\n        margin: theme.spacing(1),\n    },\n    dialogTitle: {\n        marginBottom: 10\n\n\n    }\n}));\n\nfunction Employee() {\n    const classes = useStyles();\n\n    const [itemList, setItemList] = useState([]);\n    const [state, setState] = useState(true);\n    const [open, setOpen] = useState(false);\n    const [deleteButton, setDeleteButton] = useState(false);\n    const [submit, setSubmit] = useState(false);\n    const [search, setSearch] = useState('');\n    const [oldUser, setOldUser] = useState({})\n\n    const columns = [\n        {\n            title: 'Actions', field: '',\n            render: (rowData) => (\n                <>\n                    <ButtonGroup variant=\"text\">\n                        <Button>\n                            <EditIcon color=\"primary\" onClick={() => {\n                                handleEdit(rowData)\n                            }} />\n                        </Button>\n                        <Button>\n                            <DeleteIcon color=\"error\" onClick={() => {\n                                handleOpenDelete(rowData)\n                            }} />\n                        </Button>\n                    </ButtonGroup>\n                </>\n            )\n        },\n        { title: \"Name\", field: \"name\" },\n        { title: \"Code\", field: \"code\" },\n        { title: \"Age\", field: \"age\" },\n        { title: \"Phone\", field: \"phone\" },\n        { title: \"Email\", field: \"email\" },\n\n    ];\n\n\n    useEffect(() => {\n        if (search) {\n            searchByDto({}).then(res => {\n                setItemList(res.data.data.filter(employee => handleSearch(employee)))\n            })\n        }\n        if (state) {\n            reRender();\n\n        }\n    }, [state, search]);\n\n\n\n    //Render\n    const reRender = () => {\n        searchByDto({})\n            .then((res) => {\n                setItemList(res.data.data);\n            });\n    }\n\n    {/* Search*/ }\n\n    const handleSearch = (employee) => {\n        if (search === \"\") {\n            return employee\n        } else {\n            if (search !== \"\") {\n                if (employee.name.toLowerCase().includes(search.toLowerCase())) {\n                    return employee\n                }\n            }\n        }\n    }\n\n    //edit\n    const handleOpen = () => {\n        setOpen(true);\n        setOldUser({})\n\n    };\n\n    const handleClose = () => {\n        setOpen(false)\n        reRender()\n\n\n    };\n\n\n    //delete\n\n    const handleClose__Delete = () => {\n        setDeleteButton(false);\n\n\n\n    };\n    const handleOpenDelete = (rowData) => {\n        setDeleteButton(true)\n\n        setOldUser(rowData)\n    }\n    const handleDeleteEmployee = (data) => {\n        setOldUser(data)\n\n\n        deleteEmployee(data).then(() => {\n            reRender()\n            handleClose__Delete()\n            toast.success(\"Xóa thành công\")\n\n        })\n    }\n\n\n    // edit\n    const handleEdit = (rowData) => {\n        setOpen(true)\n        setOldUser(rowData)\n\n    }\n\n\n    const handleSubmit = (name, age, code, email, phone, province, district, commune) => {\n\n    }\n\n\n\n    return (\n\n\n        <div className=\"m-sm-30\">\n\n            <EmployeeEditorDialog\n                employeeData={oldUser}\n                setstate={setState}\n                state={state}\n                handleClose={handleClose}\n                submit={submit}\n                open={open}\n                setOpen={setOpen}\n                reRender={reRender}\n                setSubmit={setSubmit}\n                setHandleSubmit={\n                    (name, age, code, email, phone, province, district, commune) =>\n                        handleSubmit(name, age, code, email, phone, province, district, commune)} />\n\n            <Grid className={classes.box}>\n                <Helmet>\n                    <title>Quản lý nhân viên</title>\n                </Helmet>\n                <div>\n                    <Breadcrumb\n                        routeSegments={[\n                            { name: \"Danh mục\", path: \"/directory/apartment\" },\n                            { name: \"Nhân viên\" },\n                        ]}\n                    />\n                </div>\n            </Grid>\n\n            <Grid className={classes.box}>\n\n                <Button variant=\"contained\" color=\"primary\" onClick={handleOpen}>\n                    Thêm mới\n                    <PersonAddIcon className={classes.button1} />\n                </Button>\n\n\n                {/* Search Input */}\n                <Grid className={classes.search}>\n\n                    <TextField\n                        label=\"Search\"\n                        type=\"text\"\n                        fullWidth\n                        value={search}\n                        onChange={(e) => {\n                            e.preventDefault()\n                            setSearch(e.target.value)\n                        }}\n                        InputProps={{\n                            startAdornment: (\n                                <SearchIcon />\n                            )\n                        }}\n\n                    />\n\n                </Grid>\n            </Grid>\n\n            <Grid>\n                <ConfirmationDialog\n                    open={deleteButton}\n                    onConfirmDialogClose={handleClose__Delete}\n                    onYesClick={() => {\n                        handleDeleteEmployee(oldUser)\n                    }}\n                    text={'Bạn có chắc xóa: ' + oldUser.name}\n                    cancel={'Cancel'}\n                    agree={'Agrre'}\n\n                />\n                {/* <Dialog open={deleteButton} onClose={handleClose__Delete} >\n                    <DialogTitle className={classes.dialogTitle}>Delete Confirm</DialogTitle>\n\n\n                    <DialogContent>\n                        <DialogContentText className={classes.dialogContentText}>\n                            Bạn có chắc xóa {oldUser.name}\n                        </DialogContentText>\n                        <Grid >\n                            <Button\n                                style={{\n                                    float: 'right',\n\n                                }}\n                                variant='contained'\n\n                                color=\"secondary\"\n                                onClick={() => {\n                                    handleDeleteEmployee(oldUser)\n                                }}>\n                                Yes\n                            </Button>\n                            <Button\n                                style={{\n                                    float: 'right',\n                                    marginRight: '10px'\n\n                                }}\n                                variant='contained'\n                                color=\"primary\"\n                                onClick={() => {\n                                    handleClose__Delete()\n                                }}\n                            >\n                                No\n                            </Button>\n\n                        </Grid>\n                    </DialogContent>\n\n                </Dialog> */}\n\n            </Grid>\n\n            <Grid xs={12}>\n                <MaterialTable\n                    title={\"\"}\n                    data={itemList}\n                    columns={columns}\n\n                    options={{\n                        selection: false,\n                        paging: true,\n                        search: false,\n                        exportButton: true,\n\n                        rowStyle: (rowData, index) => ({\n                            backgroundColor: (index % 2 === 1) ? '#EEE' : '#FFF',\n                        }),\n                        headerStyle: {\n                            backgroundColor: '#358600',\n                            color: '#fff',\n                        },\n                        padding: 'dense',\n                        toolbar: true\n                    }}\n                    localization={{\n                        body: {\n                            emptyDataSourceMessage:\n                                \"No data\",\n                        },\n                    }}\n\n                />\n            </Grid>\n\n        </div>\n    );\n}\n\nexport default Employee;\n"]},"metadata":{},"sourceType":"module"}